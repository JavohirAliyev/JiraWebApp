@model List<JiraApp.Models.Ticket>

@{
    ViewData["Title"] = "View Created Tickets";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">View Created Tickets</h4>
                </div>
                <div class="card-body">
                    @if (!ViewData.ModelState.IsValid)
                    {
                        <div class="alert alert-danger">
                            <ul>
                                @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                                {
                                    <li>@error.ErrorMessage</li>
                                }
                            </ul>
                        </div>
                    }


                    @if (Model != null && Model.Count > 0)
                    {
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th scope="col">Summary</th>
                                    <th scope="col">Status</th>
                                    <th scope="col">Reporter</th>
                                    <th scope="col">Link</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var ticket in Model)
                                {
                                    <tr>
                                        <td>@ticket.Summary</td>
                                        <td>@ticket.Status</td>
                                        <td>@ticket.Reporter</td>
                                        <td><a href="@ticket.Url" target="_blank" class="btn btn-info btn-sm">View Ticket</a></td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                    else
                    {
                        <p>No tickets found.</p>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    body {
        background-color: #f8f9fa;
    }

    .card {
        border-radius: 10px;
    }

    .card-header {
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }
</style>
